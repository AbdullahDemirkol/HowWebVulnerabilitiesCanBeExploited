# How Web Vulnerabilities Can Be Exploited ? (Web Açıklıkları Nasıl Sömürülebilir ?)

## Bir siber güvenlik çalışanı suça bulaşmadan web zafiyetlerini tarayabileceği ortamlar:
> DVWA
> WebGoat
> bWAPP
> VulnHub
> Mutillidae

## Web zafiyetlerini taramaya yardımcı olan open source toollar(açık kaynak kodlu araçlar):
> Nikto
> OWASP Zap
> Netsparker
> Acunetics

## OWASP TOP 10 Nedir ?
OWASP TOP 10 (Open Web Application Security Project) , geliştiriciler ve uygulama güvenliği uzmanları için farkındalık yaratmak amacıyla yayınlanan bir belgedir. Her yıl bir önceki yıl gerçekleştirilen atakların analizlerini yaparak geliştiricileri uyarmak ve yazılım geliştirme kültürünü değiştirmeyi amaçlamaktadır.

## OWASP TOP 10
> Injection
> Broken Authentication
> Sensivite Data Exposure
> XML External Entities (XXE)
> Broken Access Control
> Security Misconfiguration
> XSS (Cross-Site Scripting)
> Insecure Deserialization
> Using Components with Known Vulnerabilities
> Insufficient Logging & Monitoring

## XSS (Cross-Site Scripting)
XSS (Cross-Site Scripting) zafiyetinde dinamik bir web sayfasında girdi alanına kullanıcı tarafından çalışıcak bir script yerleştiriliyor. Bu script sayesinde kullanıcının cookielerini çalabiliyoruz. **"<script>alert("XSS")</script>"**gibi bir kod parçası sonucunda ekrana eğer **"XSS"** pop-up çıkarsa burda XSS zafiyetinden bahsedilebilir. 

Hadi bir örnek yapalım :
Öncelikle server olması amaçlı metasploit zafiyetli makinemizi çalıştırıyoruz. IP adresini alıyoruz. 
![Metasploit-ip-adresi]()

Bu ip adresini linux makinemizde tarayıcıya yazıyoruz ve ordan **"DVWA"** yazan web zafiyet tarayabiliceğimiz ortamı seçiyoruz.
![DVWA-secme]()

Gelen giriş ekranında öğrendiğim 2 tane kullanıcı var. Bunlar:
    username=admin
    password=password

    username2=gordonb
    password2=abc123
![login]()

Giriş yaptıktan sonra **"DVWA Security"** sekmesinden script security'i çözücemiz zorluğa göre değiştirebiliriz ama biz ilk olarak low düzeyde kullanalım.
![DVWA-Security]()

Script security'i low seçeneğine ayarladıktan sonra **"XSS reflected"** sekmesine giriyoruz. Text bölümüne **"<script>alert("XSS")</script>"** komutunu yazıp submit butonuna basıyoruz ve sistemde javascript script kodu çalıştırabiliyor muyuz bunu öğreniyoruz.
![alert-xss]()
![alert-xss2]()

Script kodunun sitede çalıştığını gördük. Şimdi ise **"<script>alert(document.cookie)</script>"** komutunu yazıyoruz. Burda cookie'yi alerte bastırıyoruz fakat burda bizim kurucağımız bir sunucuya kullanıcı cookielerini kaydedicek bir şey hazırlıyoruz.
![alert-cookie]()
![alert-cookie2]()

Şimdi ise **"Burp Suite"** adlı uygulamayı kullanarak bu siteyi encode edebiliriz. Encode ettikten sonra ise urlyi Google'ın url kısaltması olarak kullanabileciğimiz **"https://www.shorturl.at/"** adresi ile encode edilmiş urlmizi kısaltabiliriz. Fakat şuan host-only seçeneğinde olduğumuz için kısaltılmış kod çalışmıcağı için encode edilmiş kodu kullanıcaz.
![burpsuite]()

Diğer kullanıcıdan aldığımız cookieleri kullanabilmek için burpsuite ve tarayıcımızda ufak bir değişiklik yapmamız gerekiyor.
![burpsuite-settings]()
![tarayıcı-settings]()
![tarayıcı-settings2]()

Ayarlamaları yaptıktan sonra Burp Suite uygulamasında **"Proxy>Intercept>Intercept is off"** sekmesinde seçeneğini **"Intercept is on"** yapıyoruz.
![intercept-is-on]()

Burdan sonra admin kullanıcıyla giriş yapıp cookie aldığımızı varsayalım.
![admin-cookie]()

Şimdi burpsuite ile dinlediğimiz portan herhangi bir tarayıcıyla gordonb kullanıcısıyla giriş yapıyoruz. 
![gordon-login]()

Önümüze burpsuit ekranı geliyor. Burda **"PHPSESSID"** komutunun yanına aldığımız cookieyi yazıyoruz. Forward butonuna basıyoruz.


Artık admin kullanıcısıyla giriş yapmış gibi olduk.
