# How Web Vulnerabilities Can Be Exploited ? (Web Açıklıkları Nasıl Sömürülebilir ?)

## Bir siber güvenlik çalışanı suça bulaşmadan web zafiyetlerini tarayabileceği ortamlar:
- DVWA<br/>
- WebGoat<br/>
- bWAPP<br/>
- VulnHub<br/>
- Mutillidae<br/>

## Web zafiyetlerini taramaya yardımcı olan open source toollar(açık kaynak kodlu araçlar):
- Nikto<br/>
- OWASP Zap<br/>
- Netsparker<br/>
- Acunetics<br/>

## OWASP TOP 10 Nedir ?
OWASP TOP 10 (Open Web Application Security Project) , geliştiriciler ve uygulama güvenliği uzmanları için farkındalık yaratmak amacıyla yayınlanan bir belgedir. Her yıl bir önceki yıl gerçekleştirilen atakların analizlerini yaparak geliştiricileri uyarmak ve yazılım geliştirme kültürünü değiştirmeyi amaçlamaktadır.

## OWASP TOP 10
- Injection<br/>
- Broken Authentication<br/>
- Sensivite Data Exposure<br/>
- XML External Entities (XXE)<br/>
- Broken Access Control<br/>
- Security Misconfiguration<br/>
- XSS (Cross-Site Scripting)<br/>
- Insecure Deserialization<br/>
- Using Components with Known Vulnerabilities<br/>
- Insufficient Logging & Monitoring<br/>

## XSS (Cross-Site Scripting)
XSS (Cross-Site Scripting) zafiyetinde dinamik bir web sayfasında girdi alanına kullanıcı tarafından çalışıcak bir script yerleştiriliyor. Bu script sayesinde kullanıcının cookielerini çalabiliyoruz. **"<script>alert("XSS")</script>"** gibi bir kod parçası sonucunda ekrana eğer **"XSS"** pop-up çıkarsa burda XSS zafiyetinden bahsedilebilir. 

Hadi bir örnek yapalım :
Öncelikle server olması amaçlı metasploit zafiyetli makinemizi çalıştırıyoruz. IP adresini alıyoruz. <br/>
>![Metasploit-ip-adresi](https://github.com/AbdullahDemirkol/HowWebVulnerabilitiesCanBeExploited/blob/main/Images/Metasploit-ip-adresi.png)

Bu ip adresini linux makinemizde tarayıcıya yazıyoruz ve ordan **"DVWA"** yazan web zafiyet tarayabiliceğimiz ortamı seçiyoruz.<br/>
>![DVWA-secme](https://github.com/AbdullahDemirkol/HowWebVulnerabilitiesCanBeExploited/blob/main/Images/DVWA-secme.png)

Gelen giriş ekranında öğrendiğim 2 tane kullanıcı var. Bunlar:
    
    username=admin
    password=password

    username2=gordonb
    password2=abc123
>![login](https://github.com/AbdullahDemirkol/HowWebVulnerabilitiesCanBeExploited/blob/main/Images/login.png)

Giriş yaptıktan sonra **"DVWA Security"** sekmesinden script security'i çözücemiz zorluğa göre değiştirebiliriz ama biz ilk olarak low düzeyde kullanalım.
>![DVWA-Security](https://github.com/AbdullahDemirkol/HowWebVulnerabilitiesCanBeExploited/blob/main/Images/DVWA-Security.png)

Script security'i low seçeneğine ayarladıktan sonra **"XSS reflected"** sekmesine giriyoruz. Text bölümüne **"<script>alert("XSS")</script>"** komutunu yazıp submit butonuna basıyoruz ve sistemde javascript script kodu çalıştırabiliyor muyuz bunu öğreniyoruz.
>![alert-xss](https://github.com/AbdullahDemirkol/HowWebVulnerabilitiesCanBeExploited/blob/main/Images/alert-xss.png)
>![alert-xss2](https://github.com/AbdullahDemirkol/HowWebVulnerabilitiesCanBeExploited/blob/main/Images/alert-xss2.png)<br/>
**NOT: Orta düzey script security varsa eğer o kodu "<scr<script>ipt>alert("XSS")</script>" şekilde kullanılabilir.**

Script kodunun sitede çalıştığını gördük. Şimdi ise **"<script>alert(document.cookie)</script>"** komutunu yazıyoruz. Burda cookie'yi alerte bastırıyoruz fakat burda bizim kurucağımız bir sunucuya kullanıcı cookielerini kaydedicek bir şey hazırlıyoruz.
>![alert-cookie](https://github.com/AbdullahDemirkol/HowWebVulnerabilitiesCanBeExploited/blob/main/Images/alert-cookie.png)
>![alert-cookie2](https://github.com/AbdullahDemirkol/HowWebVulnerabilitiesCanBeExploited/blob/main/Images/alert-cookie2.png)

Şimdi ise **"Burp Suite"** adlı uygulamayı kullanarak bu siteyi encode edebiliriz. Encode ettikten sonra ise urlyi Google'ın url kısaltması olarak kullanabileciğimiz **"https://www.shorturl.at/"** adresi ile encode edilmiş urlmizi kısaltabiliriz. Fakat şuan host-only seçeneğinde olduğumuz için kısaltılmış kod çalışmıcağı için encode edilmiş kodu kullanıcaz.
>![burpsuite](https://github.com/AbdullahDemirkol/HowWebVulnerabilitiesCanBeExploited/blob/main/Images/burpsuite.png)

Diğer kullanıcıdan aldığımız cookieleri kullanabilmek için burpsuite ve tarayıcımızda ufak bir değişiklik yapmamız gerekiyor.
>![burpsuite-settings](https://github.com/AbdullahDemirkol/HowWebVulnerabilitiesCanBeExploited/blob/main/Images/burpsuit-settings.png)
>![tarayıcı-settings](https://github.com/AbdullahDemirkol/HowWebVulnerabilitiesCanBeExploited/blob/main/Images/tarayıcı-settings.png)
>![tarayıcı-settings2](https://github.com/AbdullahDemirkol/HowWebVulnerabilitiesCanBeExploited/blob/main/Images/tarayıcı-settings2.png)

Ayarlamaları yaptıktan sonra Burp Suite uygulamasında **"Proxy>Intercept>Intercept is off"** sekmesinde seçeneğini **"Intercept is on"** yapıyoruz.
>![intercept-is-on](https://github.com/AbdullahDemirkol/HowWebVulnerabilitiesCanBeExploited/blob/main/Images/Intercept-is-on.png)

Burdan sonra admin kullanıcıyla giriş yapıp cookie aldığımızı varsayalım.
>![admin-cookie](https://github.com/AbdullahDemirkol/HowWebVulnerabilitiesCanBeExploited/blob/main/Images/admin-cookie.png)

Şimdi burpsuite ile dinlediğimiz portan herhangi bir tarayıcıyla gordonb kullanıcısıyla giriş yapıyoruz. 
>![gordon-login](https://github.com/AbdullahDemirkol/HowWebVulnerabilitiesCanBeExploited/blob/main/Images/gordon-login.png)

Önümüze burpsuit ekranı geliyor. Burda **"PHPSESSID"** komutunun yanına aldığımız cookieyi yazıyoruz. Forward butonuna basıyoruz.


Artık admin kullanıcısıyla giriş yapmış gibi olduk.
